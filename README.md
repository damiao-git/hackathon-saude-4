<p align="center"><img src="https://github.com/damiao-git/hackathon-saude-4/blob/master/public/imagens/topo.jpg" width="800" alt="CodeCreators"></p>

<p align="center">
<a href="https://packagist.org/packages/laravel/framework"><img src="https://img.shields.io/packagist/l/laravel/framework" alt="License"></a>
</p>

<br>


## üìö Projeto Tempo Zero

O Tempo Zero  √© uma plataforma de atendimento  online, que moderniza o atendimento de hospitais e clinicas para trazer agilidade no atendimento aos pacientes.

O principal objetivo desta iniciativa √© reduzir os tempos de espera e¬†acabando com as longas horas passadas numa sala de espera para aqueles que necessitam de cuidados urgentes e ao mesmo tempo que garante que os recursos sejam utilizados de forma eficaz, dando prioridade aos casos que exigem aten√ß√£o imediata.
<br><br>
> Participar deste hackathon foi uma jornada<br>
> incr√≠vel de aprendizado e colabora√ß√£o.<br>
> Agradecemos imensamente pela oportunidade<br>
> de crescer, inovar e compartilhar ideias.<br>
> Equipe "Code Creators"
<br>

## üöÄ Tecnologias Utilizadas

Abaixo as ferramentas e tecnologias que foram utilizadas no nosso projeto.

<p align="left">
  <a href="https://skillicons.dev">
    <img src="https://skillicons.dev/icons?i=git,github,php,laravel,vscode,linux,nodejs,js,html,jquery,mysql,flutter" />
  </a>
</p>
<br>

## üì∑ Telas do MVP

Os pacientes podem iniciar o pr√©-atendimento em casa atrav√©s do aplicativo Tempo Zero. 
Eles inserem dados como nome, local de atendimento, idade, telefone, peso, g√™nero, hist√≥rico m√©dico.
<p align="left"><img src="https://github.com/damiao-git/hackathon-saude-4/blob/master/public/imagens/mvp1.png" width="800" alt="CodeCreators"></p>
<br>
Tamb√©m adicionam, medicamentos em uso, cirurgias, sintomas com descri√ß√£o e intensidade e se o paciente realizou a aferi√ß√£o dos sinais vitais em casa, ele tamb√©m consegue adicionar no aplicativo. A IA analisa essas informa√ß√µes para uma pr√©-avalia√ß√£o inicial.
<p align="left"><img src="https://github.com/damiao-git/hackathon-saude-4/blob/master/public/imagens/mvp2.png" width="800" alt="CodeCreators"></p>

<br><br>

## :link: Download do MVP
Clique abaixo para fazer download do aplicativo Tempo Zero no formato APK.
<br>
<a href="https://github.com/damiao-git/hackathon-saude-4/blob/master/public/app/Tempo-Zero-release2.apk">Donwload</a>
<br><br>
## :hammer_and_wrench:	Arquitetura da Solu√ß√£o

A solu√ß√£o utiliza tr√™s tecnologias modernas: Python, Laravel e Ollama, todas integradas de maneira eficiente. A comunica√ß√£o funciona da seguinte forma: uma requisi√ß√£o √© enviada pelo aplicativo "Tempo Zero" para a nossa API desenvolvida em Laravel. Em seguida, a API faz uma requisi√ß√£o para o script Python, que junta os dados enviados pelo aplicativo com a base de dados. Ap√≥s essa etapa, tudo √© enviado para o Ollama, que processa as informa√ß√µes e devolve os resultados para o aplicativo.

<p align="center"><img src="https://github.com/damiao-git/hackathon-saude-4/blob/master/public/imagens/arquitetura.png" width="800" alt="CodeCreators"></p>

# ‚öôÔ∏è Instala√ß√£o da Intelig√™ncia Artificial

- <b>Windows</b><br>
Para instalar o Ollama no Windows use o link abaixo:<br>
https://ollama.com/download

- <b>Linux</b><br>
Para instalar o Ollama no Linux use o comando abaixo:<br>

```sh
python meu_script.pycurl -fsSL https://ollama.com/install.sh | sh
```
# ‚öôÔ∏è Instala√ß√£o do Projeto Laravel

Utilize os passos abaixo para instalar o projeto Laravel para conseguir utilizar as APIs.<br>

#### Clone do Projeto
```sh
git clone https://github.com/damiao-git/hackathon-saude-4.git
```

#### Acesse o diret√≥rio
V√° para o diret√≥rio do projeto clonado:
```sh
cd hackathon-saude-4
```

#### Instalar Depend√™ncias do Composer
Certifique-se de ter o Composer instalado. Execute o seguinte comando para instalar as depend√™ncias:
```sh
composer install
```

#### Configurar o Arquivo ".env"
Copie o arquivo .env.example para .env:
```sh
cp .env.example .env
```

Abra o arquivo .env e configure as vari√°veis de ambiente necess√°rias, como as credenciais do banco de dados:
```sh
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=nome_do_banco
DB_USERNAME=usuario_do_banco
DB_PASSWORD=senha_do_banco
```

#### Gerar a Chave da Aplica√ß√£o
Gere a chave da aplica√ß√£o Laravel:
```sh
php artisan key:generate
```

#### Configurar Permiss√µes de Pastas
Altere as permiss√µes das pastas storage e bootstrap/cache para garantir que o servidor web possa gravar nelas:
```sh
sudo chmod -R 775 storage
sudo chmod -R 775 bootstrap/cache
```
Voc√™ pode tamb√©m precisar alterar o propriet√°rio do diret√≥rio para o usu√°rio do servidor web (por exemplo, www-data para Apache ou nginx para Nginx):
```sh
sudo chown -R www-data:www-data storage
sudo chown -R www-data:www-data bootstrap/cache
```

#### Executar Migra√ß√µes
Execute as migra√ß√µes para criar as tabelas do banco de dados:
```sh
php artisan migrate
```

#### Rodar o Servidor de Desenvolvimento
Finalmente, execute o servidor de desenvolvimento Laravel:
```sh
php artisan serve
```
O servidor de desenvolvimento estar√° dispon√≠vel em http://localhost:8000.


# ‚öôÔ∏è Instala√ß√£o do Script Python

Utilize os passos abaixo para instalar o script python e conseguir conectar com o Ollama para enviar e receber dados processados.


#### Instala√ß√£o Python (Linux)
Instale o Python com os comandos abaixo:
```sh
sudo apt update
sudo apt install python3 python3-pip
```

#### Bibliotecas necess√°rias
Instalas bibliotecas abaixo
```sh
pip install flask langchain-community
```

#### Script
Copie o script abaixo e salve dentro do projeto Laravel com o nome app.py.

```python
from flask import Flask, request, jsonify
import os
from langchain_community.document_loaders import TextLoader
from langchain_community.vectorstores import InMemoryVectorStore
from langchain_community.llms import Ollama
from langchain.indexes import VectorstoreIndexCreator

app = Flask(__name__)

@app.route('/query', methods=['POST'])
def query():
    data = request.get_json()
    query_text = data.get('query', '')

    # Inicialize o modelo Ollama
    llm = Ollama(model='llama3')

    # Carregar os documentos
    loader = TextLoader("data.txt", encoding='utf8')
    index = VectorstoreIndexCreator().from_loaders([loader])

    # Realizar a consulta
    query_result = index.query(query_text)

    return jsonify({'result': query_result})

if __name__ == '__main__':
    app.run(port=5000)

```

#### Rode o script
No terminal ou prompt de comando, execute o script:
```sh
python app.py
```

#### Testar a API
Abra um cliente HTTP, como o Postman ou use o curl no terminal.<br>
Envie uma requisi√ß√£o POST para http://127.0.0.1:5000/query com o seguinte corpo JSON:
```json
{
    "query": "Sua consulta aqui"
}
```
Voc√™ deve receber uma resposta JSON com o resultado da consulta.

## Endpoints das APIs do Projeto
A seguir, apresentamos os endpoints das APIs do nosso projeto. O aplicativo utilizar√° essas APIs para estabelecer a conex√£o e realizar as opera√ß√µes necess√°rias.

#### Listar Pacientes

```http
  GET /api/pacientes
```

#### Cadastrar um Paciente

```http
  POST /api/pacientes
```

| Par√¢metro   | Tipo       | Descri√ß√£o                                   |
| :---------- | :--------- | :------------------------------------------ |
| nome | string | Obrigat√≥rio. O nome do paciente. |
| idade | integer | Obrigat√≥rio. A idade do paciente. |
| sexo | string | Obrigat√≥rio. O sexo do paciente (M/F). |
| sintomas | string | Opcional. Sintomas apresentados pelo paciente. |
| pressao_arterial | string | Opcional. Press√£o arterial do paciente. |
| temperatura | float | Opcional. Temperatura corporal do paciente. |
| glicemia | integer | Opcional. N√≠vel de glicemia do paciente. |
| saturacao | integer | Opcional. Satura√ß√£o de oxig√™nio do paciente. |
| batimentos_cardiacos | integer | Opcional. Batimentos card√≠acos por minuto. |
| email | string | Opcional. E-mail de contato do paciente. |
| tipo_pessoa | string | Opcional. Tipo de pessoa (Adulto/Crian√ßa). |

#### Retorna um Paciente

```http
  GET /api/pacientes/${id}
```

#### Atualizar um Paciente

```http
  PUT /api/pacientes/${id}
```
| Par√¢metro   | Tipo       | Descri√ß√£o                                   |
| :---------- | :--------- | :------------------------------------------ |
| nome | string | Opcional. O nome do paciente. |
| idade | integer | Opcional. A idade do paciente. |
| sexo | string | Opcional. O sexo do paciente (M/F). |
| sintomas | string | Opcional. Sintomas apresentados pelo paciente. |
| pressao_arterial | string | Opcional. Press√£o arterial do paciente. |
| temperatura | float | Opcional. Temperatura corporal do paciente. |
| glicemia | integer | Opcional. N√≠vel de glicemia do paciente. |
| saturacao | integer | Opcional. Satura√ß√£o de oxig√™nio do paciente. |
| batimentos_cardiacos | integer | Opcional. Batimentos card√≠acos por minuto. |
| email | string | Opcional. E-mail de contato do paciente. |
| tipo_pessoa | string | Opcional. Tipo de pessoa (Adulto/Crian√ßa). |

#### Deletar um Paciente

```http
  DELETE /api/pacientes/${id}
```

#### Checkin do Paciente

```http
  GET /api/chegada/${id}
```

#### Retorna o atendimento mais recente de um paciente

```http
  ANY /api/pacientes/atendimento/email/{email}
```



## Road Map

- [x] MVP da Solu√ß√£o
- [x] Desenvolvimento da API para o MVP
- [x] Desenvolvimento do Script Python para integra√ß√£o da API com o Ollama.
- [ ] Criar um modelo personalizado no Ollama


## üìù Licen√ßa

<a href="https://packagist.org/packages/laravel/framework"><img src="https://img.shields.io/packagist/l/laravel/framework" alt="License"></a><br>
